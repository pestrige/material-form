(this["webpackJsonpmaterial-form"]=this["webpackJsonpmaterial-form"]||[]).push([[0],{89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),i=a(26),s=a.n(i),c=a(130),o=a(133),u=a(42),m=a(50),p=a.n(m),b=a(61),d=a(3),j=a(12),v=a(132),f=a(126),O=a(128),h=a(131),g=a(134),x=a(64),w=a.n(x);!function(e){e.name="name",e.lastname="lastname",e.email="email",e.message="message",e.select="select"}(n||(n={}));var y=function(e,t,a,r){switch(a(!e&&r?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":""),t){case n.email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())?a(""):a("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email");break;case n.message:e.trim().length<10?a("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):a("")}},q=function(e,t){var a;if(!e.name.props.value&&!e.lastname.props.value)return!0;if(t)return!0;for(a in e)if(e[a].props.error||e[a].required&&!e[a].props.value)return!0;return!1},S=function(e,t,a){var n=Object(r.useState)(e),l=Object(j.a)(n,2),i=l[0],s=l[1],c=Object(r.useState)(""),o=Object(j.a)(c,2),u=o[0],m=o[1];return{value:i,helperText:u,onChange:function(e){var n=e.target.value;y(n,t,m,a),s(n)},onBlur:function(){y(i,t,m,a)},error:Boolean(u),setValue:s}},C=2097152,k=function(e){return new Promise((function(t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){if("string"===typeof a.result){var e=a.result.split("base64,")[1];t(e)}}}))},T=function(e){var t=JSON.stringify(e);return new Promise((function(e){setTimeout((function(){return e(t)}),1e3)}))},z=a(2),F=[{label:"\u0412\u043e\u043f\u0440\u043e\u0441",value:"question"},{label:"\u0416\u0430\u043b\u043e\u0431\u0430",value:"complaint"},{label:"\u041e\u0442\u0437\u044b\u0432",value:"review"}],A=function(){var e,t=Object(r.useState)(!1),a=Object(j.a)(t,2),l=a[0],i=a[1],s=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(!1),i=Object(j.a)(l,2),s=i[0],c=i[1],o=Object(r.useState)(""),u=Object(j.a)(o,2),m=u[0],p=u[1];return{file:a,onChange:function(e){var t;if(null===(t=e.target.files)||void 0===t?void 0:t.length){var a=e.target.files[0];a.size>C&&!s?(c(!0),p("\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0432 ".concat(2," \u041c\u0431"))):(c(!1),p("")),n(a)}},error:s,errorText:m,setFile:n}}(),o=(e={},Object(d.a)(e,n.name,{name:n.name,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",required:!1,props:S("",n.name,!1)}),Object(d.a)(e,n.lastname,{name:n.lastname,label:"\u0412\u0430\u0448\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f",required:!1,props:S("",n.lastname,!1)}),Object(d.a)(e,n.email,{name:n.email,label:"\u0412\u0430\u0448 E-mail",required:!0,props:S("",n.email,!0)}),Object(d.a)(e,n.message,{name:n.message,label:"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",required:!0,props:S("",n.message,!0)}),Object(d.a)(e,n.select,{name:n.select,label:"\u0422\u0438\u043f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",required:!0,props:S("",n.select,!0)}),e),m=Object.keys(o).length,x=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,l,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u={name:(null===(a=o.name)||void 0===a?void 0:a.props.value)||null,lastname:(null===(n=o.lastname)||void 0===n?void 0:n.props.value)||null,email:null===(r=o.email)||void 0===r?void 0:r.props.value,message:null===(l=o.message)||void 0===l?void 0:l.props.value,messageType:null===(c=o.select)||void 0===c?void 0:c.props.value,image:null},!s.file){e.next=6;break}return e.next=5,k(s.file);case 5:u.image=e.sent;case 6:i(!0),T(u).then((function(){var e;for(e in i(!1),w()("","\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e","success"),o){var t,a;null===(t=(a=o[e].props).setValue)||void 0===t||t.call(a,"")}s.setFile(null)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("form",{onSubmit:x,children:[Object(z.jsx)(v.a,{variant:"h4",component:"h1",align:"center",mb:4,pt:2,children:"\u0424\u043e\u0440\u043c\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438"}),Object(z.jsxs)(c.a,{container:!0,justifyContent:"space-between",spacing:4,p:4,children:[Object.values(o).map((function(e,t){var a=e.name,r=e.label,l=e.required,i=e.props,s=Object(u.a)({},i);return delete s.setValue,Object(z.jsx)(c.a,{item:!0,xs:12,order:t,md:"select"===a?5:12,children:Object(z.jsx)(f.a,Object(u.a)(Object(u.a)({fullWidth:!0,label:r,variant:"outlined",required:l,select:"select"===a,rows:"message"===a?4:void 0,multiline:"message"===a,FormHelperTextProps:{sx:{position:"absolute",top:"100%"}}},s),{},{children:a===n.select&&F.map((function(e){var t=e.value,a=e.label;return Object(z.jsx)(O.a,{value:t,children:a},t)}))}))},a)})),Object(z.jsxs)(c.a,{item:!0,xs:12,md:5,order:m-2,children:[Object(z.jsxs)(h.a,{component:"label",variant:"outlined",fullWidth:!0,sx:{height:"100%"},children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",Object(z.jsx)("input",{type:"file",hidden:!0,accept:"image/jpeg, image/png",onChange:s.onChange})]}),s.file&&Object(z.jsx)(g.a,{error:s.error,sx:{position:"absolute"},children:s.error?s.errorText:"\u0424\u0430\u0439\u043b: ".concat(s.file.name)})]}),Object(z.jsx)(c.a,{item:!0,xs:12,order:m,children:Object(z.jsx)(h.a,{size:"large",fullWidth:!0,variant:"contained",type:"submit",disabled:q(o,s.error)||l,children:l?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})]})};var B=function(){return Object(z.jsx)(c.a,{container:!0,justifyContent:"center",alignItems:"center",minHeight:"100vh",children:Object(z.jsx)(c.a,{item:!0,xs:11,md:8,children:Object(z.jsx)(o.a,{elevation:3,children:Object(z.jsx)(A,{})})})})};a(89);s.a.render(Object(z.jsx)(l.a.StrictMode,{children:Object(z.jsx)(B,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.1ad6474d.chunk.js.map